<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DSA Tutor - AI-Powered Problem Explainer</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;
    
    // Lucide React icons as inline SVG components
    const BookOpen = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
      </svg>
    );
    
    const Code = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
      </svg>
    );
    
    const Lightbulb = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
      </svg>
    );
    
    const MessageSquare = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
      </svg>
    );
    
    const Loader2 = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
      </svg>
    );
    
    const ChevronDown = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
      </svg>
    );
    
    const ChevronUp = ({ className }) => (
      <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
      </svg>
    );

    function DSATutor() {
      const [selectedTopic, setSelectedTopic] = useState('');
      const [problem, setProblem] = useState('');
      const [difficulty, setDifficulty] = useState('medium');
      const [explanation, setExplanation] = useState('');
      const [loading, setLoading] = useState(false);
      const [showExample, setShowExample] = useState(false);
      const [darkMode, setDarkMode] = useState(false);

      const topics = [
        'Arrays', 'Strings', 'Linked Lists', 'Stacks & Queues',
        'Trees', 'Graphs', 'Hash Tables', 'Sorting & Searching',
        'Dynamic Programming', 'Recursion', 'Greedy Algorithms',
        'Backtracking', 'Bit Manipulation', 'Two Pointers', 'Sliding Window'
      ];

      const exampleProblems = {
        'Arrays': 'Find the maximum subarray sum (Kadane\'s Algorithm)',
        'Trees': 'Find the lowest common ancestor of two nodes in a binary tree',
        'Dynamic Programming': 'Calculate the minimum number of coins needed to make a given amount',
        'Graphs': 'Detect if a cycle exists in a directed graph',
        'Sorting & Searching': 'Find the kth largest element in an unsorted array'
      };

      const handleExplain = async () => {
        if (!problem.trim()) {
          setExplanation('Please enter a problem to explain.');
          return;
        }

        setLoading(true);
        setExplanation('');

        try {
          const response = await fetch('https://api.anthropic.com/v1/messages', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              model: 'claude-sonnet-4-20250514',
              max_tokens: 1000,
              messages: [{
                role: 'user',
                content: `You are a friendly DSA tutor who explains concepts in simple terms.

Problem: ${problem}
${selectedTopic ? `Topic: ${selectedTopic}` : ''}
Difficulty: ${difficulty}

Provide an easy-to-understand explanation with:

1. **Simple Explanation** (2-3 sentences using everyday language and analogies)

2. **How to Solve It** (4-6 clear steps that anyone can follow)

3. **Example** (A quick concrete example with small numbers/simple input)

4. **Complexity** (Time: O(?), Space: O(?) with brief explanation why)

5. **Similar Problems to Practice** (List 3-4 related problems with similar concepts/techniques)

Use simple words, helpful analogies, and be encouraging. Make it feel like explaining to a friend!`
              }]
            })
          });

          const data = await response.json();
          const text = data.content
            .filter(item => item.type === 'text')
            .map(item => item.text)
            .join('\n');
          
          setExplanation(text);
        } catch (error) {
          setExplanation('Error: Unable to generate explanation. Please try again.');
          console.error('API Error:', error);
        } finally {
          setLoading(false);
        }
      };

      return (
        <div className={`min-h-screen p-6 transition-colors ${
          darkMode 
            ? 'bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900' 
            : 'bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50'
        }`}>
          <div className="max-w-5xl mx-auto">
            {/* Header */}
            <div className="text-center mb-8">
              <div className="flex items-center justify-center gap-3 mb-3">
                <BookOpen className={`w-10 h-10 ${darkMode ? 'text-indigo-400' : 'text-indigo-600'}`} />
                <h1 className={`text-4xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>DSA Tutor</h1>
                <button
                  onClick={() => setDarkMode(!darkMode)}
                  className={`ml-4 p-2 rounded-lg transition-colors ${
                    darkMode 
                      ? 'bg-gray-800 text-yellow-400 hover:bg-gray-700' 
                      : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                  }`}
                  title="Toggle Dark Mode"
                >
                  {darkMode ? '‚òÄÔ∏è' : 'üåô'}
                </button>
              </div>
              <p className={`text-lg ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>AI-Powered Problem Explainer</p>
            </div>

            {/* Main Content */}
            <div className="grid md:grid-cols-2 gap-6">
              {/* Input Panel */}
              <div className={`rounded-2xl shadow-lg p-6 space-y-5 ${
                darkMode ? 'bg-gray-800' : 'bg-white'
              }`}>
                <div className={`flex items-center gap-2 mb-4 ${darkMode ? 'text-indigo-400' : 'text-indigo-600'}`}>
                  <Code className="w-5 h-5" />
                  <h2 className="text-xl font-semibold">Problem Input</h2>
                </div>

                <div>
                  <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                    Topic (Optional)
                  </label>
                  <select
                    value={selectedTopic}
                    onChange={(e) => setSelectedTopic(e.target.value)}
                    className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${
                      darkMode 
                        ? 'bg-gray-700 border-gray-600 text-white' 
                        : 'border-gray-300'
                    }`}
                  >
                    <option value="">Select a topic...</option>
                    {topics.map(topic => (
                      <option key={topic} value={topic}>{topic}</option>
                    ))}
                  </select>
                </div>

                <div>
                  <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                    Difficulty Level
                  </label>
                  <div className="flex gap-2">
                    {['easy', 'medium', 'hard'].map(level => (
                      <button
                        key={level}
                        onClick={() => setDifficulty(level)}
                        className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${
                          difficulty === level
                            ? 'bg-indigo-600 text-white'
                            : darkMode
                              ? 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                        }`}
                      >
                        {level.charAt(0).toUpperCase() + level.slice(1)}
                      </button>
                    ))}
                  </div>
                </div>

                <div>
                  <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                    Problem Description
                  </label>
                  <textarea
                    value={problem}
                    onChange={(e) => setProblem(e.target.value)}
                    placeholder="Enter your DSA problem here... (e.g., 'Reverse a linked list' or 'Find the longest palindromic substring')"
                    className={`w-full h-32 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none ${
                      darkMode 
                        ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' 
                        : 'border-gray-300'
                    }`}
                  />
                </div>

                <div className="space-y-2">
                  <button
                    onClick={() => setShowExample(!showExample)}
                    className={`w-full py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 ${
                      darkMode
                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`}
                  >
                    <Lightbulb className="w-4 h-4" />
                    {showExample ? 'Hide Examples' : 'Show Example Problems'}
                    {showExample ? <ChevronUp className="w-4 h-4" /> : <ChevronDown className="w-4 h-4" />}
                  </button>
                  
                  {showExample && (
                    <div className={`rounded-lg p-4 space-y-2 ${
                      darkMode ? 'bg-indigo-900/30' : 'bg-indigo-50'
                    }`}>
                      <p className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Click to load:</p>
                      {Object.entries(exampleProblems).map(([topic, prob]) => (
                        <button
                          key={topic}
                          onClick={() => {
                            setSelectedTopic(topic);
                            setProblem(prob);
                            setShowExample(false);
                          }}
                          className={`w-full text-left p-2 rounded transition-colors text-sm ${
                            darkMode
                              ? 'bg-gray-700 hover:bg-gray-600 text-gray-200'
                              : 'bg-white hover:bg-indigo-100'
                          }`}
                        >
                          <span className={`font-medium ${darkMode ? 'text-indigo-400' : 'text-indigo-600'}`}>{topic}:</span> {prob}
                        </button>
                      ))}
                    </div>
                  )}
                </div>

                <button
                  onClick={handleExplain}
                  disabled={loading || !problem.trim()}
                  className="w-full py-3 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                >
                  {loading ? (
                    <>
                      <Loader2 className="w-5 h-5 animate-spin" />
                      Generating Explanation...
                    </>
                  ) : (
                    <>
                      <MessageSquare className="w-5 h-5" />
                      Explain This Problem
                    </>
                  )}
                </button>
              </div>

              {/* Explanation Panel */}
              <div className={`rounded-2xl shadow-lg p-6 ${
                darkMode ? 'bg-gray-800' : 'bg-white'
              }`}>
                <div className={`flex items-center gap-2 mb-4 ${darkMode ? 'text-purple-400' : 'text-purple-600'}`}>
                  <Lightbulb className="w-5 h-5" />
                  <h2 className="text-xl font-semibold">Explanation</h2>
                </div>

                <div className="prose prose-sm max-w-none">
                  {loading ? (
                    <div className={`flex flex-col items-center justify-center py-12 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>
                      <Loader2 className="w-12 h-12 animate-spin mb-4" />
                      <p>Crafting your explanation...</p>
                    </div>
                  ) : explanation ? (
                    <div className={`whitespace-pre-wrap leading-relaxed ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                      {explanation}
                    </div>
                  ) : (
                    <div className={`flex flex-col items-center justify-center py-12 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>
                      <BookOpen className="w-12 h-12 mb-4" />
                      <p className="text-center">Enter a problem and click "Explain This Problem" to get started!</p>
                      <p className="text-sm text-center mt-2">Get simple, easy-to-understand explanations and practice problems!</p>
                    </div>
                  )}
                </div>
              </div>
            </div>

            {/* Footer Tips */}
            <div className={`mt-8 rounded-xl p-6 border ${
              darkMode 
                ? 'bg-gray-800/60 border-indigo-800' 
                : 'bg-white/60 backdrop-blur-sm border-indigo-100'
            }`}>
              <h3 className={`font-semibold mb-3 flex items-center gap-2 ${darkMode ? 'text-gray-200' : 'text-gray-800'}`}>
                <Lightbulb className="w-5 h-5 text-yellow-500" />
                Tips for Better Explanations
              </h3>
              <ul className={`space-y-2 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>
                <li>‚Ä¢ Be specific about the problem constraints and requirements</li>
                <li>‚Ä¢ Include input/output examples if available</li>
                <li>‚Ä¢ Mention if you're looking for a particular approach (iterative, recursive, etc.)</li>
                <li>‚Ä¢ Ask follow-up questions to dive deeper into specific aspects</li>
              </ul>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<DSATutor />, document.getElementById('root'));
  </script>
</body>
</html>
